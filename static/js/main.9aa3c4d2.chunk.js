(this["webpackJsonpswag-store-mgmt"]=this["webpackJsonpswag-store-mgmt"]||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){e.exports=n(23)},19:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),l=n.n(c),o=(n(19),n(1)),i=n(2),s="https://tranquil-meadow-63605.herokuapp.com/",u=(n(12),function(e){var t=Object(i.d)(),n=e.item,c=Object(a.useState)(!1),l=Object(o.a)(c,2),u=l[0],E=l[1],m=Object(a.useState)(!1),O=Object(o.a)(m,2),d=O[0],f=O[1],S=Object(a.useState)(""),C=Object(o.a)(S,2),b=C[0],N=C[1],T=function(){E(!0),fetch(s+"temp-delivery/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart_id:n.cart_id})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?t.success("SUCCESSFULLY MARKED ORDER AS DELIVERED"):t.error("ERROR, PLEASE TRY AGAIN LATER OR WRITE DOWN ORDER PULLED")})).catch((function(e){console.log(e),t.error("CONNECTION ERROR. PLEASE CHECK YOUR CONNECTION!")})).finally((function(){E(!1),e.getStore()}))},g=function(){E(!0),fetch(s+"fulfill-order/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart_id:n.cart_id})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?t.success("SUCCESSFULLY FULFILLED ORDER"):t.error("ERROR IN FULFILLING ORDER, PLEASE TRY AGAIN LATER")})).catch((function(e){console.log(e),t.error("CONNECTION ERROR. PLEASE CHECK YOUR CONNECTION!")})).finally((function(){E(!1),e.getStore()}))},p=function(){E(!0),fetch(s+"cancel-order/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart_id:n.cart_id})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?t.success("SUCESSFULLY CANCELLED ORDER"):t.error("SOMETHING WENT WRONG, PLEASE TRY AGAIN LATER")})).catch((function(e){console.log(e),t.error("CANNOT CONNECT TO SERVER, PLEASE TRY AGAIN LATER")})).finally((function(){E(!1),e.getStore()}))},R=function(){switch(b){case"FULFILL":return r.a.createElement("div",null,r.a.createElement("button",{className:"cancel-button",onClick:function(){return f(!1)}},"Go Back"),r.a.createElement("button",{className:"confirm-button",onClick:g},"Confirm Fulfillment"));case"CANCEL":return r.a.createElement("div",null,r.a.createElement("button",{className:"cancel-button",onClick:function(){return f(!1)}},"Go Back"),r.a.createElement("button",{className:"cancel-button",onClick:p},"Confirm Cancellation"));case"DELIVER":return r.a.createElement("div",null,r.a.createElement("button",{className:"cancel-button",onClick:function(){return f(!1)}},"Go Back"),r.a.createElement("button",{className:"confirm-button",onClick:T},"Confirm order Delivery"));default:return r.a.createElement("div",null)}};return r.a.createElement("div",{id:"list-item",style:function(){switch(n.status){case"RECEIVED":return{backgroundColor:"#00b7ff"};case"FULFILLED":return{backgroundColor:"#6ac482"};case"BACKORDERED":return{backgroundColor:"#c9cc00"};default:return{backgroundColor:"#00b7ff"}}}()},r.a.createElement("div",{style:{display:u?"inline":"none"},className:"loader big-load"}),r.a.createElement("p",{className:"bold"},n.user_name),r.a.createElement("p",null,"Name: ",n.user_first_name,", Manager: ",n.user_manager," "),r.a.createElement("p",null,n.swag_name," quantity: ",n.quantity),"RECEIVED"===n.status||"BACKORDERED"===n.status?r.a.createElement("div",null,d?r.a.createElement("div",null,R()):r.a.createElement("div",null,r.a.createElement("button",{className:"cancel-button",onClick:function(){N("CANCEL"),f(!0)}},"Cancel Order"),r.a.createElement("button",{onClick:function(){E(!0),fetch(s+"back-order/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart_id:n.cart_id})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?t.success("SUCESSFULLY BACK ORDERED"):t.error("SOMETHING WENT WRONG, PLEASE TRY AGAIN LATER")})).catch((function(e){console.log(e),t.error("CANNOT CONNECT TO SERVER, PLEASE CHECK YOUR INTERNET CONNECTION")})).finally((function(){E(!1),e.getStore()}))}},"Back Order"),r.a.createElement("button",{onClick:function(){N("FULFILL"),f(!0)}},"Fullfill Order"),r.a.createElement("button",{onClick:function(){N("DELIVER"),f(!0)}},"Deliver Order"))):r.a.createElement("div",null,d?r.a.createElement("div",null,R()):r.a.createElement("div",null,r.a.createElement("button",{className:"cancel-button",onClick:function(){N("CANCEL"),f(!0)}},"Cancel Order"),r.a.createElement("button",{onClick:function(){N("DELIVER"),f(!0)}},"Deliver Order"))))}),E=function(e){var t=Object(i.d)(),n=Object(a.useState)(!1),c=Object(o.a)(n,2),l=c[0],u=c[1],E=Object(a.useState)(""),m=Object(o.a)(E,2),O=m[0],d=m[1];return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"left",alignItems:"center"}},r.a.createElement("h2",null,"Delivery by Badge Scan"),r.a.createElement("div",null,l?r.a.createElement("div",{className:"loader"}):r.a.createElement("form",{onSubmit:function(n){n.preventDefault(),O?(u(!0),fetch(s+"delivery-by-badge/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:O})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?t.success("SUCESSFULLY MARKED ".concat(e.count," ORDERS FOR DELIVERY!")):"NOT_FOUND"===e.reason?t.error("ASSSOCIATE DOES NOT HAVE ANY FULFILLED ORDERS!"):t.error("SERVER ERROR, PLEASE TRY AGAIN LATER OR CONTACT IT")})).catch((function(e){console.log(e),t.error("CONNECTION ISSUE, PLEASE CHECK YOUR INTERNET CONNECTION!")})).finally((function(){d(""),u(!1),e.getStore()}))):t.error("YOU MUST SCAN ASSOCIATE BADGE BEFORE CLICKING SUBMIT")}},r.a.createElement("input",{placeholder:"Scan Associate Badge To Deliver Orders",onChange:function(e){return d(e.target.value)}}))))},m=function(e){var t=Object(i.d)(),n=e.setLoading,c=Object(a.useState)(""),l=Object(o.a)(c,2),m=l[0],O=l[1],d=Object(a.useState)(""),f=Object(o.a)(d,2),S=f[0],C=f[1];return r.a.createElement("div",{id:"list"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("h2",null,e.title),r.a.createElement("input",{placeholder:"Search for login",onChange:function(e){O(e.target.value)}}),r.a.createElement("input",{placeholder:"Search by Manager",onChange:function(e){return C(e.target.value)}}),r.a.createElement("button",{style:{marginTop:"0px"},onClick:e.getStore},"Refresh")),r.a.createElement("div",{id:"inner-list"},e.listOfOrders.filter((function(e){return S&&e.user_manager?e.user_name.includes(m)&&e.user_manager.includes(S):e.user_name.includes(m)})).map((function(t){return r.a.createElement(u,{key:t.cart_id,getStore:e.getStore,item:t})}))),r.a.createElement("div",{style:{display:"Fulfilled orders"===e.title?"block":"none",paddingTop:"15px"}},r.a.createElement(E,{getStore:e.getStore})),r.a.createElement("div",{style:{display:"Being Fulfilled orders"===e.title?"block":"none",paddingTop:"15px"}},r.a.createElement("button",{onClick:function(){n(!0),fetch(s+"clear-being-fulfilled/",{method:"POST"}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?t.success("CLEARED BEING FULFILLED"):t.error("FAILED TO CLEAR BEING FULFILLED")})).catch((function(e){t.error("FAILED TO CLEAR BEING FULFILLED. PLEASE CHECK YOUR INTERNET CONNECTION")})).finally((function(){return e.getStore()}))}},"CLEAR LIST"),r.a.createElement("a",{href:"https://tranquil-meadow-63605.herokuapp.com/print-labels"},"Print Labels")))},O=function(e){return r.a.createElement("div",{className:"swag-item"},r.a.createElement("p",null,e.item.swag_item_id),r.a.createElement("p",null,e.item.swag_name),r.a.createElement("p",null,e.item.price),r.a.createElement("p",null,e.item.stock),r.a.createElement("div",null,e.item.display?r.a.createElement("p",null,"Yes"):r.a.createElement("p",null,"No")))},d=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)(""),E=Object(o.a)(u,2),m=E[0],d=E[1],f=Object(a.useState)("DEFAULT"),S=Object(o.a)(f,2),C=S[0],b=S[1],N=Object(a.useState)("DEFAULT"),T=Object(o.a)(N,2),g=T[0],p=T[1],R=Object(a.useState)(""),h=Object(o.a)(R,2),A=h[0],I=h[1],v=Object(a.useState)(""),L=Object(o.a)(v,2),j=L[0],y=L[1],D=Object(i.d)(),U=Object(a.useState)(!1),w=Object(o.a)(U,2),_=w[0],F=w[1],k=Object(a.useState)([]),P=Object(o.a)(k,2),x=P[0],Y=P[1],G=Object(a.useState)(""),M=Object(o.a)(G,2),B=M[0],H=M[1],W=function(e){e.preventDefault(),F(!0),fetch(s+"edit-swag-item/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({swag_item_id:c,swag_name:m,swag_image:A,price:C,stock:g,display:j})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?D.success("SUCCESSFULLY UPDATED DATA"):"INFO"===e.reason?D.error("YOU MUST FILL ALL FIELDS BEFORE ADDING NEW ITEM"):D.error("SERVER ERROR, PLEASE CONTACT IT")})).catch((function(e){console.log(e),D.error("FAILED: CONNECTION ERROR, PLEASE CHECK YOUR INTERNET CONNECTION!")})).finally((function(){l(""),d(""),b("DEFAULT"),p("DEFAULT"),H(""),I(""),F(!1),V()}))},V=function(){F(!0),fetch(s+"get-list-of-swag-mgmt/").then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?Y(e.swag_items):D.err("FAILED TO GET SWAG ITEMS, PLEASE TRY AGAIN LATER!")})).catch((function(e){console.log(e),D.error("CONNECTION ERROR! PLEASE CHECK YOUR INTERNET CONNECTION!")})).finally((function(){F(!1)}))};return Object(a.useEffect)((function(){F(!0),fetch(s+"get-list-of-swag-mgmt/").then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?Y(e.swag_items):D.err("FAILED TO GET SWAG ITEMS, PLEASE TRY AGAIN LATER!")})).catch((function(e){console.log(e),D.error("CONNECTION ERROR! PLEASE CHECK YOUR INTERNET CONNECTION!")})).finally((function(){return F(!1)}))}),[D]),r.a.createElement("div",{className:"display"},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("h2",null,"Swag Items List"),r.a.createElement("input",{onChange:function(e){return H(e.target.value)},placeholder:"Search item by name"}),r.a.createElement("div",null,r.a.createElement("a",{href:s+"get-items-list/"},"Get CSV"),r.a.createElement("button",{onClick:V,style:{marginLeft:"20px"}},"Refresh"))),r.a.createElement("div",{id:"list-wrapper"},r.a.createElement("div",{className:"swag-item",id:"swag-header"},r.a.createElement("p",null,"ID"),r.a.createElement("p",null,"Name"),r.a.createElement("p",null,"Price"),r.a.createElement("p",null,"Stock"),r.a.createElement("p",null,"Display")),_?r.a.createElement("div",{className:"loader"}):r.a.createElement("div",{id:"swag-list"},x.filter((function(e){return e.swag_name.toLowerCase().includes(B.toLowerCase())})).filter((function(e){return e.swag_item_id.includes(c)})).map((function(e){return r.a.createElement(O,{key:e.swag_item_id,item:e})})))),r.a.createElement("h2",null,"Edit Item"),r.a.createElement("div",null,_?r.a.createElement("div",{className:"loader"}):r.a.createElement("form",{className:"flex-wrap",onSubmit:W,style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("input",{placeholder:"Enter item ID to edit",onChange:function(e){return l(e.target.value)}}),r.a.createElement("input",{placeholder:"Enter correct name",onChange:function(e){return d(e.target.value)}}),r.a.createElement("input",{placeholder:"Enter correct price",onChange:function(e){return b(e.target.value)}}),r.a.createElement("input",{placeholder:"Enter correct stock",onChange:function(e){return p(e.target.value)}}),r.a.createElement("input",{placeholder:"Enter correct image link",onChange:function(e){return I(e.target.value)}}),r.a.createElement("label",null,"Display"),r.a.createElement("select",{onChange:function(e){return y(e.target.value)}},r.a.createElement("option",{value:""},"SELECT"),r.a.createElement("option",{value:"true"},"Yes"),r.a.createElement("option",{value:"false"},"No")),r.a.createElement("button",{onClick:W},"Submit"))))},f=function(e){var t=Object(i.d)(),n=Object(a.useState)(""),c=Object(o.a)(n,2),l=c[0],u=c[1],E=Object(a.useState)(!1),m=Object(o.a)(E,2),O=m[0],d=m[1],f=function(e){e.preventDefault(),l?(d(!0),fetch(s+"reset-password/"+l).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?t.success("SUCCESSFULLY RESETED PASSWORD FOR ASSOCIATE!"):"NO_MATCH"===e.reason?t.error("ASSOCIATE LOGIN IS NOT ON RECORD"):t.error("SERVER ERROR: PLEASE TRY AGAIN LATER OR CONTACT IT")})).catch((function(e){console.log(e),t.error("CONNECTION ISSUE, PLEASE CHECK YOUR INTERNET CONNECTION")})).finally((function(){return d(!1)}))):t.error("YOU MUST ENTER ASSOCIATE LOGIN BEFORE CLICKING SUBMIT!")};return r.a.createElement("div",{className:"display"},O?r.a.createElement("div",{className:"loader"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Password Reset"),r.a.createElement("form",{onSubmit:f,style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("input",{onChange:function(e){return u(e.target.value)},placeholder:"Enter Associate's login to reset"}),r.a.createElement("button",{onClick:f},"Submit"))))},S=function(e){var t=Object(i.d)(),n=Object(a.useState)(""),c=Object(o.a)(n,2),l=c[0],u=c[1],E=function(e){e.preventDefault(),l?window.open(s+"associate-status/"+l):t.error("YOU MUST ENTER ASSOCIATE LOGIN BEFORE CLICKING SUBMIT!")};return r.a.createElement("div",{className:"display"},r.a.createElement("h2",null,"Check Associate's Swag"),r.a.createElement("form",{onSubmit:E,style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("input",{placeholder:"Scan Badge or enter Login",onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{onClick:E},"Submit")))},C=n(5),b=n.n(C),N=n(6),T=n(8),g=function(e){var t=Object(i.d)(),n=Object(a.useState)(""),c=Object(o.a)(n,2),l=c[0],u=c[1],E=Object(a.useState)(0),m=Object(o.a)(E,2),O=m[0],d=m[1],f=Object(a.useState)(""),S=Object(o.a)(f,2),C=S[0],b=S[1],N=Object(a.useState)(!1),T=Object(o.a)(N,2),g=T[0],p=T[1],R=Object(a.createRef)();Object(a.useEffect)((function(){g||R.current.value||(R.current.placeholder=O)}));var h=function(n){if(n.preventDefault(),l&&C&&O){var a=(new Date).toLocaleDateString();p(!0),fetch(s+"add-balance/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_data:l,swag_amt:O,reason:C,manager_user_name:e.manager_user_name,date:a})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?t.success("SUCCESSFULLY ADDED ".concat(O," SWAG TO ").concat(e.user.user_name)):"NO_MATCH"===e.reason?t.error("ERROR: ".concat(l," IS NOT FOUND IN RECORDS")):t.error("ERROR: SERVER ERROR PLEASE TRY AGAIN LATER")})).catch((function(e){console.log(e),t.error("CONNECTION ERROR, PLEASE CHECK YOUR INTERNET CONNECTION")})).finally((function(){p(!1),u("")}))}else t.error("YOU MUST FILL OUT ALL FIELDS BEFORE SUBMITTING")};return r.a.createElement("div",null,r.a.createElement("div",null," ",g?r.a.createElement("div",{className:"loader"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Individual Swag Addition"),r.a.createElement("form",{onSubmit:h},r.a.createElement("label",null,"$"),r.a.createElement("input",{id:"amount",ref:R,onChange:function(e){return d(e.target.value)}}),r.a.createElement("input",{placeholder:"Enter reason of distribution",onChange:function(e){return b(e.target.value)}}),r.a.createElement("input",{placeholder:"Scan Badge or enter Login",onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{onClick:h},"Submit")))))},p=function(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)(""),E=Object(o.a)(u,2),m=E[0],O=E[1],d=Object(a.useState)([]),f=Object(o.a)(d,2),S=f[0],C=f[1],p=Object(a.useState)([]),R=Object(o.a)(p,2),h=R[0],A=R[1],I=Object(i.d)(),v=function(){var t=Object(T.a)(b.a.mark((function t(n,a,r){var c,l,o,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=new Date,l=c.toLocaleDateString(),o={user_data:n,swag_amt:a,reason:r,manager_user_name:e.manager_user_name,date:l},t.next=5,fetch(s+"add-balance/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 5:return i=t.sent,t.next=8,i.json();case 8:"SUCCESS"===t.sent.status?C((function(e){return[].concat(Object(N.a)(e),[o])})):A((function(e){return[].concat(Object(N.a)(e),[o])}));case 10:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"display"},r.a.createElement(g,{manager_user_name:e.manager_user_name}),r.a.createElement("h2",{style:{paddingTop:"30px"}},"Mass Swag Distribution"),r.a.createElement("label",null,"Select .csv file to upload"),r.a.createElement("input",{onChange:function(e){return O(e.target.files[0])},type:"file",accept:".csv"}),r.a.createElement("button",{onClick:function(){l(!1),C([]),A([]);var e=new FileReader;e.readAsText(m),e.onloadend=function(){var t;(t=e.result).length<23||"associate,swag,reason\r\n"!==t.slice(0,23)?I.error("INVALID DATA FORMAT"):function(e){for(var t=23,n=function(){var n="";if('"'===e[t]){for(++t;'"'!==e[t]&&t<e.length;)n+=e[t],++t;return t+=2,n}for(;t<e.length&&","!==e[t]&&"\n"!==e[t];)"\r"!==e[t]&&(n+=e[t]),++t;return++t,n},a="",r="",c="";t<e.length;)a=n(),r=n(),c=n(),v(a,r,c)}(e.result)}}},"Submit"),r.a.createElement("div",{style:{display:c?"none":"block"}},r.a.createElement("h3",null,"SUCCESS"),r.a.createElement("div",{style:{backgroundColor:"white",maxHeight:"100px",overflowY:"scroll"}},S.map((function(e){return r.a.createElement("p",{style:{margin:"10px",borderBottom:"solid black 1px"}},e.user_data,",",e.swag_amt,',"',e.reason,'"')}))),r.a.createElement("h3",null,"FAILED"),r.a.createElement("div",{style:{backgroundColor:"white",maxHeight:"100px",overflowY:"scroll"}},h.map((function(e){return r.a.createElement("p",{style:{margin:"10px",borderBottom:"solid black 1px"}},e.user_data,",",e.swag_amt,',"',e.reason,'"')})))))},R=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)(""),E=Object(o.a)(u,2),m=E[0],O=E[1],d=Object(a.useState)(""),f=Object(o.a)(d,2),S=f[0],C=f[1],b=Object(a.useState)(""),N=Object(o.a)(b,2),T=N[0],g=N[1],p=Object(a.useState)(""),R=Object(o.a)(p,2),h=R[0],A=R[1],I=Object(i.d)();return r.a.createElement("div",null,c?r.a.createElement("div",{classname:"loader"}):r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){return O(e.target.value)},placeholder:"Badge Number"}),r.a.createElement("input",{onChange:function(e){return C(e.target.value)},placeholder:"Login"}),r.a.createElement("input",{onChange:function(e){return g(e.target.value)},placeholder:"First Name"}),r.a.createElement("input",{onChange:function(e){return A(e.target.value)},placeholder:"Manager"}),r.a.createElement("button",{onClick:function(){m&&S&&T&&h?(l(!0),fetch(s+"add-user/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:m,user_name:S,user_first_name:T,user_manager:h})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?I.success("SUCCESSFULLY ADDED NEW ASSOCIATE"):"UNIQUE"===e.reason?I.error("BADGE ID OR LOGIN ALREADY EXIST!"):"DATA"===e.reason?I.error("INVALID INFORMATION FORMAT"):I.error("SERVER ERROR, PLEASE CONTACT IT")})).catch((function(e){I.error("NETWORK ERROR, PLEASE CHECK YOUR CONNECTION"),console.log(e)})).finally((function(){l(!1),O(""),C(""),g(""),A("")}))):I.error("ALL FIELDS ARE REQUIRED BEFORE SUBMITTING!")}},"Submit")))},h=n(4),A=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)([]),E=Object(o.a)(u,2),m=E[0],O=E[1],d=Object(a.useState)(!0),f=Object(o.a)(d,2),S=f[0],C=f[1],b=Object(a.useState)(""),T=Object(o.a)(b,2),g=T[0],p=T[1],R=Object(i.d)(),A=function(e,t,n,a){var r={user_id:e,user_name:t,user_first_name:n,user_manager:a};console.log(r),fetch(s+"add-user/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?l((function(e){return[].concat(Object(N.a)(e),[Object(h.a)({},r)])})):"UNIQUE"===e.reason?O((function(e){return[].concat(Object(N.a)(e),[Object(h.a)(Object(h.a)({},r),{},{reason:"DUPLICATE"})])})):"DATA"===e.reason?O((function(e){return[].concat(Object(N.a)(e),[Object(h.a)(Object(h.a)({},r),{},{reason:"DATA FORMAT"})])})):O((function(e){return[].concat(Object(N.a)(e),[Object(h.a)(Object(h.a)({},r),{},{reason:"CONTACT IT"})])}))})).catch((function(e){O((function(e){return[].concat(Object(N.a)(e),[Object(h.a)(Object(h.a)({},r),{},{reason:"CONNECTION"})])}))}))};return r.a.createElement("div",null,r.a.createElement("label",null,"Select .csv file to upload"),r.a.createElement("input",{type:"file",accept:".csv",onChange:function(e){return p(e.target.files[0])}}),r.a.createElement("button",{onClick:function(){C(!1),l([]),O([]);var e=new FileReader;e.readAsText(g),e.onloadend=function(){var t;(t=e.result).length<26||"badge,login,name,manager\r\n"!==t.slice(0,26)?R.error("Invalid File Format! Please check the guide!"):function(e){for(var t=26,n=function(){for(var n="";t<e.length&&","!==e[t]&&"\n"!==e[t];)"\r"!==e[t]&&(n+=e[t]),++t;return++t,n},a="",r="",c="",l="";t<e.length;)a=n(),r=n(),l=n(),c=n(),A(a,r,l,c)}(e.result)}}},"Submit"),r.a.createElement("div",{style:{display:S?"none":"block"}},r.a.createElement("h3",null,"Success"),r.a.createElement("div",{style:{backgroundColor:"white",maxHeight:"100px",overflowY:"scroll"}},c.map((function(e){return r.a.createElement("p",null,e.user_id)}))),r.a.createElement("h3",null,"Failed"),r.a.createElement("div",{style:{backgroundColor:"white",maxHeight:"100px",overflowY:"scroll"}},m.map((function(e){return r.a.createElement("p",null,"ID: ",e.user_id,", REASON:  ",e.reason)})))))},I=function(e){return r.a.createElement("div",{className:"display"},r.a.createElement("h2",null,"Add new Users"),r.a.createElement("h3",null,"Individual User Addition"),r.a.createElement(R,null),r.a.createElement("h3",null,"Mass Users Addition"),r.a.createElement(A,null))},v=function(e){var t=Object(i.d)(),n=Object(a.useState)([]),c=Object(o.a)(n,2),l=c[0],u=c[1],E=Object(a.useState)(!1),m=Object(o.a)(E,2),O=m[0],d=m[1],f=function(){d(!0),fetch(s+"manager-list/").then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status&&u(e.data)})).catch((function(e){console.log(e),t.error("NETWORK ERROR, PLEASE CHECK YOUR CONNECTION")})).finally((function(){d(!1)}))};Object(a.useEffect)(f,[]);return r.a.createElement("div",{className:"display"},r.a.createElement("h3",{style:{display:"inline"}},"Manager Approval"),r.a.createElement("button",{onClick:f,style:{display:"inline"}},"Refresh"),r.a.createElement("div",{style:{backgroundColor:"white",borderRadius:"10px",maxHeight:"400px",overflowY:"scroll",padding:"5px",display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr"}},function(){switch(O){case!0:return r.a.createElement("div",{className:"loader"});default:return l.map((function(e){return r.a.createElement("div",{key:e.user_name,style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"white",paddingRight:"50px"}},r.a.createElement("p",null,e.user_name),e.active?r.a.createElement("p",{style:{borderRadius:"5px",backgroundColor:"rgb(0, 209, 108)",padding:"10px",fontWeight:"bold",color:"white"}},"Activated"):r.a.createElement("button",{onClick:function(){return n=e.user_name,d(!0),void fetch(s+"manager-activation/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:n})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?t.success("SUCCESSFULLY ACTIVATED MANAGER"):t.error("SERVER ERROR")})).catch((function(e){console.log(e),t.error("CONNECTION ERROR, PLEASE CHECK YOUR INTERNET")})).finally((function(){f()}));var n},style:{display:"inline"}},"Activate"))}))}}()))},L=function(e){var t=e.setRoute,n=Object(i.d)(),c=Object(a.useState)(""),l=Object(o.a)(c,2),u=l[0],E=l[1],m=function(){var a=Object(T.a)(b.a.mark((function a(r){var c,l;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),e.manager_user_name&&u){a.next=5;break}n.error("PLEASE INPUT BOTH ID AND PASSWORD TO LOGIN"),a.next=21;break;case 5:return t("LOADING"),a.prev=6,a.next=9,fetch(s+"manager-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:e.manager_user_name.toLowerCase(),password:u})});case 9:return c=a.sent,a.next=12,c.json();case 12:"SUCCESS"===(l=a.sent).status?t("MAIN_SCREEN"):"NOT_FOUND"===l.reason?(t("INITIATE"),n.error("NO MATCHING COMBINATION FOUND")):"NOT_ACTIVATED"===l.reason?(t("INITIATE"),n.error("YOUR ACCOUNT IS NOT YET ACTIVATED BY THE SWAG STORE MANAGER")):(t("INITIATE"),n.error("SERVER ERROR")),a.next=21;break;case 16:a.prev=16,a.t0=a.catch(6),console.log(a.t0),t("INITIATE"),n.error("NETWORK ERROR PLEASE CHECK YOUR CONNECTION");case 21:case"end":return a.stop()}}),a,null,[[6,16]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"display"},r.a.createElement("h3",null,"Manager Login"),r.a.createElement("form",{style:{color:"gray"},onSubmit:m},r.a.createElement("label",null,"ID"),r.a.createElement("input",{onChange:function(t){return e.setManager(t.target.value)}}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{onChange:function(e){return E(e.target.value)},type:"password"}),r.a.createElement("button",{onClick:m},"Login")))},j=function(e){var t=Object(i.d)(),n=Object(a.useState)(!1),c=Object(o.a)(n,2),l=c[0],u=c[1],E=Object(a.useState)(""),m=Object(o.a)(E,2),O=m[0],d=m[1],f=Object(a.useState)(""),S=Object(o.a)(f,2),C=S[0],N=S[1],g=Object(a.useState)(""),p=Object(o.a)(g,2),R=p[0],h=p[1],A=function(){var e=Object(T.a)(b.a.mark((function e(n){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),u(!0),C===R){e.next=6;break}t.error("PASSWORD CONFIRMATION DOES NOT MATCH PLEASE CHECK"),e.next=26;break;case 6:if(O&&C&&R){e.next=10;break}t.error("YOU MUST FILL ALL FIELDS TO REGISTER"),e.next=26;break;case 10:return e.prev=10,e.next=13,fetch(s+"manager-registration/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:O.toLowerCase(),password:C})});case 13:return a=e.sent,e.next=16,a.json();case 16:"SUCCESS"===(r=e.sent).status?t.success("YOUR REQUEST HAS BEEN SUBMITTED, THE SWAG STORE MANAGER WILL CONFIRM THAT YOU ARE A MANAGER AND ACTIVATE YOUR ACCOUNT WITHIN 24HR"):"NOT_ACTIVATED"===r.reason?t.error("YOUR ACCOUNT IS NOT YET ACTIVATED BY THE SWAG STORE MANAGER"):"DUPLICATE"===r.reason?t.error("THIS LOGIN HAS BEEN REGISTERED AS A MANAGER ALREADY"):t.error("SERVER ERROR"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),t.error("NETWORK ERROR PLEASE CHECK YOUR CONNECTION");case 23:d(""),N(""),h("");case 26:u(!1);case 27:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,function(){switch(l){case!0:return r.a.createElement("div",{className:"loader"});default:return r.a.createElement("div",{className:"display"},r.a.createElement("h3",null,"Manager Registration"),r.a.createElement("p",{style:{color:"gray"}},"Welcome to our new security login! Please register with your Amazon Login!",r.a.createElement("br",null),"After you have successfully registered with your Amazon Login, the SWAG store manager will confirm ",r.a.createElement("br",null),"your information through Amazon Phonetool and activate your account within 24 hours. ",r.a.createElement("br",null),"This tool is available to Managers/Process Assistants/Shift Assistants (L3+)",r.a.createElement("br",null),"Thank you for your support!"),r.a.createElement("form",{style:{color:"gray"},onSubmit:A},r.a.createElement("label",null,"ID"),r.a.createElement("input",{onChange:function(e){return d(e.target.value)}}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{onChange:function(e){return N(e.target.value)},type:"password"}),r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{onChange:function(e){return h(e.target.value)},type:"password"}),r.a.createElement("button",{onClick:A},"Register")))}}())},y=function(e){var t=e.item,n=Object(i.d)(),c=Object(a.useState)(""),l=Object(o.a)(c,2),u=l[0],E=l[1],m=Object(a.useState)(!1),O=Object(o.a)(m,2),d=O[0],f=O[1],S=function(a){console.log(t.user_id),a.preventDefault(),f(!0),fetch(s+"response-to-comment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.user_id,response:u})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?n.success("SUCCESSFULLY POSTED RESPONSE"):n.error("FAILED TO POST RESPONSE")})).catch((function(e){console.log(e),n.error("FAILED TO POST RESPONSE")})).finally((function(){E(""),f(!1),e.getComments()}))};return r.a.createElement("div",{className:"each-comment"},r.a.createElement("p",{style:{maxWidth:"80vw"}},t.user_name,"(",t.user_first_name,"): ",t.content),r.a.createElement("form",{onSubmit:S},r.a.createElement("div",{className:"center"},r.a.createElement("textarea",{style:{width:"80%"},placeholder:t.response?t.response:"Enter Response Here",onChange:function(e){return E(e.target.value)},value:u}),r.a.createElement("button",{onClick:S},d?"POSTING RESPONSE, PLEASE WAIT...":"Post"),r.a.createElement("p",{style:{color:t.response?"#3dd980":"#db8239",fontWeight:"bold"}},t.response?"RESPONDED":"NOT YET RESPONDED"))))},D=function(e){var t=Object(i.d)(),n=Object(a.useState)([]),c=Object(o.a)(n,2),l=c[0],u=c[1],E=function(){fetch(s+"get-all-comments/").then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?u(e.data):t.error("FAILED TO GET COMMENTS")})).catch((function(e){console.log(e),t.error("FAILED TO GET COMMENTS")}))};return Object(a.useEffect)(E,[]),r.a.createElement("div",{className:"display",id:"list"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("h3",null,"Comments Section"),r.a.createElement("button",{onClick:E},"Refresh")),r.a.createElement("div",{id:"inner-list"},l.map((function(e){return r.a.createElement(y,{key:e.comment_id,item:e,getComments:E})}))))};var U=function(){var e=Object(i.d)(),t=Object(a.useState)("INITIATE"),n=Object(o.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)(""),E=Object(o.a)(u,2),O=E[0],C=E[1],b=Object(a.useState)(!1),N=Object(o.a)(b,2),T=N[0],g=N[1],R=Object(a.useState)([]),h=Object(o.a)(R,2),A=h[0],y=h[1],U=Object(a.useState)([]),w=Object(o.a)(U,2),_=w[0],F=w[1],k=function(){g(!0),fetch(s+"get-order-list-mgmt/").then((function(e){return e.json()})).then((function(t){"SUCCESS"===t.status?(y(t.order),F(t.beingFulfilled)):e.error("FAILED TO GET LIST OF ORDERS")})).catch((function(t){console.log(t),e.error("FAILED TO CONNECT TO SERVER, PLEASE CHECK YOU CONNECTION!")})).finally((function(){return g(!1)}))};switch(Object(a.useEffect)((function(){g(!0),fetch(s+"get-order-list-mgmt/").then((function(e){return e.json()})).then((function(t){"SUCCESS"===t.status?(y(t.order),F(t.beingFulfilled)):e.error("FAILED TO GET LIST OF ORDERS")})).catch((function(t){console.log(t),e.error("FAILED TO CONNECT TO SERVER, PLEASE CHECK YOU CONNECTION!")})).finally((function(){return g(!1)}))}),[e]),c){case"INITIATE":return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"display",style:{maxWidth:"700px"}},r.a.createElement("h3",null,"ATTENTION"),r.a.createElement("p",{style:{color:"#696969"}},"Please use the Manual Delivery or Badge Scan Delivery Function to mark an order as 'DELIVERED' when handing out items to associates!"),r.a.createElement("p",{style:{color:"#696969"}},"This also adds a timestamp on the delivery for future reference!"),r.a.createElement("p",{style:{color:"#696969"}},"We are having problems with associates claiming they did not receive their orders!"),r.a.createElement("p",{style:{fontWeight:"bold"}},"Thank you for your support!")),r.a.createElement(L,{setRoute:l,manager_user_name:O,setManager:C}),r.a.createElement(j,{setRoute:l}));default:return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Swag Store Order Management Application"),r.a.createElement("button",{onClick:function(){window.open(s+"all-swag-add-logs")}},"VIEW SWAG DISTRIBUTION LOGS"),r.a.createElement("div",null,T?r.a.createElement("div",{className:"loader"}):r.a.createElement("div",{id:"list-container"},r.a.createElement(m,{getStore:k,title:"Received orders",listOfOrders:A.filter((function(e){return"RECEIVED"===e.status})),setLoading:g}),r.a.createElement(m,{getStore:k,title:"Back Ordered",listOfOrders:A.filter((function(e){return"BACKORDERED"===e.status})),setLoading:g}),r.a.createElement(m,{getStore:k,title:"Fulfilled orders",listOfOrders:A.filter((function(e){return"FULFILLED"===e.status})),setLoading:g}),r.a.createElement(m,{getStore:k,title:"Being Fulfilled orders",listOfOrders:_,setLoading:g}))),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(p,{manager_user_name:O}),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(S,null),r.a.createElement(f,null))),r.a.createElement(I,null),r.a.createElement(v,null),r.a.createElement("div",null,r.a.createElement(d,null)),r.a.createElement(D,null))}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(13),_={position:i.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:i.c.SCALE};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,Object.assign({template:w.a},_),r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.9aa3c4d2.chunk.js.map